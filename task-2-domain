# **–ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ2. –î–æ–º–µ–Ω ‚Äú–ü–æ—ó–∑–¥–∫–∏‚Äù + Repository + –±–∞–∑–æ–≤–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è —É FastAPI**

## **1. –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ–º–µ–Ω–Ω—É –º–æ–¥–µ–ª—å `Trip`**

–£ –≤–∏–≥–ª—è–¥—ñ `dataclass`.

–ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ –ø–æ–ª—è:

* id
* from_city
* to_city
* departure_time
* seats_total
* seats_taken
* price
* driver_name (–Ω–µ–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ)

–í–∏–º–æ–≥–∏:

* seats_total > 0
* seats_taken –Ω–µ –º–æ–∂–µ –ø–µ—Ä–µ–≤–∏—â—É–≤–∞—Ç–∏ seats_total
* price > 0

–í–∞–ª—ñ–¥–∞—Ü—ñ—è ‚Äî —Ç–∞–º, –¥–µ –≤–≤–∞–∂–∞—î—à –¥–æ—Ä–µ—á–Ω–∏–º (–∞–±–æ –≤ –º–æ–¥–µ–ª—ñ, –∞–±–æ –≤ —Å–µ—Ä–≤—ñ—Å–∞—Ö).


## **2. –°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–ª–∞—Å-—Å—Ö–æ–≤–∏—â–µ `TripRepository`**

–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª:

* –¥–æ–¥–∞—Ç–∏ –ø–æ—ó–∑–¥–∫—É (–∑ –∞–≤—Ç–æ—ñ–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º id)
* –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ—ó–∑–¥–∫—É –∑–∞ id
* –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –ø–æ—ó–∑–¥–æ–∫
* –æ–Ω–æ–≤–∏—Ç–∏ –ø–æ—ó–∑–¥–∫—É (–±—É–¥—å-—è–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º)
* (delete –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

–°—Ö–æ–≤–∏—â–µ ‚Äî —É –ø–∞–º‚Äô—è—Ç—ñ (—Å–ø–∏—Å–æ–∫/–º–∞—Å–∏–≤).


## **3. –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–µ—Ä–≤—ñ—Å–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (—á–∏—Å—Ç–∞ –ª–æ–≥—ñ–∫–∞)**

–§—É–Ω–∫—Ü—ñ—ó –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ **—á–µ—Ä–µ–∑ Repository**, –∞ –Ω–µ –Ω–∞–ø—Ä—è–º—É –∑—ñ —Å–ø–∏—Å–∫–∞–º–∏.

–ü–æ—Ç—Ä—ñ–±–Ω–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏:

### a) —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—ó–∑–¥–∫–∏

‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Ö—ñ–¥–Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
‚Äî seats_taken = 0 –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º

### b) –ø–æ—à—É–∫ –ø–æ—ó–∑–¥–æ–∫

–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó:

* from_city (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)
* to_city (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)

–§—ñ–ª—å—Ç—Ä—É–≤–∞–Ω–Ω—è —Ä–æ–±–∏—Ç–∏ —á–µ—Ä–µ–∑ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ –ø–æ–ª—è.

### c) –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –º—ñ—Å—Ü—è

‚Äî –Ω–µ –¥–æ–∑–≤–æ–ª—è—Ç–∏, —è–∫—â–æ –º—ñ—Å—Ü—å –Ω–µ–º–∞—î

### d) —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è

‚Äî –Ω–µ –¥–æ–∑–≤–æ–ª—è—Ç–∏, —è–∫—â–æ seats_taken == 0

### e) —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

* –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—ó–∑–¥–æ–∫
* —Å—É–º–∞—Ä–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤—ñ–ª—å–Ω–∏—Ö –º—ñ—Å—Ü—å


## **4. –ó—Ä–æ–±–∏—Ç–∏ —Ñ–∞–π–ª —Å–∞–º–æ—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (playground)**

–£ –±—É–¥—å-—è–∫–æ–º—É —Ñ–∞–π–ª—ñ:

* –°—Ç–≤–æ—Ä–∏ 2‚Äì3 –ø–æ—ó–∑–¥–∫–∏.
* –ó–∞—Å—Ç–æ—Å—É–π –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó.
* –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π –∫—ñ–ª—å–∫–∞ `assert`, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥—ñ–∫—É.

–¶–µ –≤–Ω—É—Ç—Ä—ñ—à–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞, –∞–Ω–∞–ª–æ–≥ —é–Ω—ñ—Ç-—Ç–µ—Å—Ç—ñ–≤.


## **5. –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ FastAPI**

–£ –≤–∂–µ —ñ—Å–Ω—É—é—á–æ–º—É FastAPI-–ø—Ä–æ—î–∫—Ç—ñ –∑ –ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ1:

### –î–æ–¥–∞—Ç–∏:

* –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä `TripRepository` (–≥–ª–æ–±–∞–ª—å–Ω–∏–π –∞–±–æ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —É main)
* –æ–¥–∏–Ω endpoint:

```
GET /trips
```

–ü–∞—Ä–∞–º–µ—Ç—Ä–∏ (query params):

* from_city
* to_city

–ï–Ω–¥–ø–æ—ñ–Ω—Ç –º–∞—î:

* –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ç–≤–æ—é —Ñ—É–Ω–∫—Ü—ñ—é –ø–æ—à—É–∫—É
* –ø–æ–≤–µ—Ä—Ç–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –ø–æ—ó–∑–¥–æ–∫ —É –≤–∏–≥–ª—è–¥—ñ JSON

–§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ ‚Äî –Ω–∞ —Ç–≤—ñ–π —Ä–æ–∑—Å—É–¥:

* –∞–±–æ —á–µ—Ä–µ–∑ pydantic-–º–æ–¥–µ–ª—å,
* –∞–±–æ —Å–∞–º–æ—Å—Ç—ñ–π–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—è dataclass ‚Üí dict.

# **–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–¥–∞—Ç–∏**

1. –ö–æ–¥:

   * –¥–æ–º–µ–Ω–Ω–∞ –º–æ–¥–µ–ª—å (`Trip`)
   * –∫–ª–∞—Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é (`TripRepository`)
   * —Å–µ—Ä–≤—ñ—Å–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (–æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª)
   * —Ñ–∞–π–ª —Å–∞–º–æ–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ (playground)
   * –æ–Ω–æ–≤–ª–µ–Ω–∏–π `main.py` –∑ FastAPI –µ–Ω–¥–ø–æ—ñ–Ω—Ç–æ–º

2. –ö–æ—Ä–æ—Ç–∫–∏–π README:

   * —è–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
   * –ø—Ä–∏–∫–ª–∞–¥ –∑–∞–ø–∏—Ç—É: `/trips?from_city=Kyiv`

3. –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—à AI –¥–ª—è –¥–æ–ø–æ–º–æ–≥–∏, —Å—Ç–≤–æ—Ä–∏ —â–µ –æ–¥–∏–Ω —Ñ–∞–π–ª: prompts.txt, –¥–µ –∑–∞–ø–∏—Å—É–π –ø—Ä–æ–º–ø—Ç–∏ —ñ —Å—Ç–∞–≤ —ó–º –æ—Ü—ñ–Ω–∫—É –Ω–∞ —Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–∏ –±—É–ª–∏ –ø–æ–º—ñ—á–Ω–∏–º–∏ –¥–ª—è —Ç–µ–±–µ. –ü—Ä–∏–∫–ª–∞–¥ –≤ –∑–∞–≤–¥–∞–Ω–Ω—ñ 1.

–•–æ—á–µ—à ‚Äî –ø—ñ–¥–≥–æ—Ç—É—é **–ó–∞–≤–¥–∞–Ω–Ω—è ‚Ññ3**, —è–∫–µ –ª–æ–≥—ñ—á–Ω–æ –ø—Ä–æ–¥–æ–≤–∂–∏—Ç—å —Ü–µ:
üëâ *‚Äú–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å —É JSON-—Ñ–∞–π–ª –∞–±–æ SQLite, + —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å Repository –∑ –¥–≤–æ–º–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è–º–∏‚Äù*.
